var fetch=require("node-fetch"),src=require("../src/src");class apicall{constructor(){this.url="https://api-fhe.enya.ai/api/compute/"}JSONPayload(t,r,a,e,i,s){for(var n={publickey_part1:[],publickey_part2:[],ciphertext_part1:[],ciphertext_part2:[],multikey_part1:[],multikey_part2:[],rotakey_part1:[],rotakey_part2:[],token:i,name:s},o=0;o<src.modulus.length;o++)n.publickey_part1.push(t[o].toString()),n.publickey_part2.push(t[o+3].toString()),n.ciphertext_part1.push(e[o].toString()),n.ciphertext_part2.push(e[o+3].toString());for(o=0;o<3*src.modulus.length;o++)n.multikey_part1.push(r[o].toString()),n.multikey_part2.push(r[o+9].toString()),n.rotakey_part1.push(a[o].toString()),n.rotakey_part2.push(a[o+9].toString());return n}RandomPCR(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}async SendData(t,r){try{return await fetch(this.url+"payload",{method:"POST",headers:{authorization:"Basic "+r,"content-type":"application/json",master:"false"},body:JSON.stringify(t)})}catch(t){return t}}async CheckStatus(t,r){try{return await fetch(this.url+"status",{method:"POST",headers:{authorization:"Basic "+r,"content-type":"application/json",master:"false"},body:JSON.stringify(t)})}catch(t){return t}}async GetResult(t,r){try{return await fetch(this.url+"result",{method:"POST",headers:{authorization:"Basic "+r,"content-type":"application/json",master:"false"},body:JSON.stringify(t)})}catch(t){return t}}}module.exports=new apicall;